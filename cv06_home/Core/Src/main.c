/* USER CODE BEGIN Header */
/**
  ******************************************************************************
  * @file           : main.c
  * @brief          : Main program body
  ******************************************************************************
  * @attention
  *
  * <h2><center>&copy; Copyright (c) 2020 STMicroelectronics.
  * All rights reserved.</center></h2>
  *
  * This software component is licensed by ST under BSD 3-Clause license,
  * the "License"; You may not use this file except in compliance with the
  * License. You may obtain a copy of the License at:
  *                        opensource.org/licenses/BSD-3-Clause
  *
  ******************************************************************************
  */
/* USER CODE END Header */

/* Includes ------------------------------------------------------------------*/
#include "main.h"

/* Private includes ----------------------------------------------------------*/
/* USER CODE BEGIN Includes */
#include "sct.h"
#include "1wire.h"
/* USER CODE END Includes */

/* Private typedef -----------------------------------------------------------*/
/* USER CODE BEGIN PTD */

/* USER CODE END PTD */

/* Private define ------------------------------------------------------------*/
/* USER CODE BEGIN PD */
#define DELAY 750
/* USER CODE END PD */

/* Private macro -------------------------------------------------------------*/
/* USER CODE BEGIN PM */

/* USER CODE END PM */

/* Private variables ---------------------------------------------------------*/
ADC_HandleTypeDef hadc;

UART_HandleTypeDef huart2;

/* USER CODE BEGIN PV */

/* USER CODE END PV */

/* Private function prototypes -----------------------------------------------*/
void SystemClock_Config(void);
static void MX_GPIO_Init(void);
static void MX_USART2_UART_Init(void);
static void MX_ADC_Init(void);
/* USER CODE BEGIN PFP */

/* USER CODE END PFP */

/* Private user code ---------------------------------------------------------*/
/* USER CODE BEGIN 0 */
int16_t *temp_18b20;
static const int16_t adc_array [] = {1150,920,730,580,470,380,310,260,230,200,190,180,170,170,170,170,170,170,170,170,160,160,150,140,130,110,100,90,70,60,40,20,10,-10,-20,-30,-50,-60,-70,-80,-90,-90,-100,-100,-110,-110,-110,-110,-110,-110,-110,-100,-100,-100,-90,-90,-90,-80,-80,-80,-70,-70,-70,-70,-70,-70,-70,-70,-70,-70,-80,-80,-90,-90,-100,-100,-110,-120,-120,-130,-140,-150,-160,-170,-170,-180,-190,-200,-210,-210,-220,-220,-230,-230,-240,-240,-240,-250,-250,-250,-250,-250,-240,-240,-240,-240,-230,-230,-220,-220,-210,-210,-200,-200,-190,-190,-190,-180,-180,-170,-170,-170,-170,-170,-170,-170,-170,-170,-180,-180,-190,-190,-200,-210,-210,-220,-230,-240,-250,-260,-260,-270,-280,-290,-300,-300,-310,-320,-320,-330,-330,-330,-330,-330,-330,-320,-320,-310,-300,-300,-290,-280,-270,-260,-250,-240,-230,-220,-210,-200,-200,-190,-190,-190,-200,-210,-220,-230,-250,-270,-290,-320,-350,-380,-410,-440,-470,-490,-500,-510,-500,-470,-420,-340,-230,-80,120,370,700,1100,1590,2190,2910,3770,4790,5990,7380,9010,10890,13060,15560,18410,21660,25350,29530,34260,39580,45570,52280,59780,68160,77500,87880,99400,112170,126290,141880,159080,178010,198820,221670,246720,274160,304160,336940,372700,411680,454110,500260,550400,604820,663830,727750,796940,871760,952590,1039860,1133990,1235450,1344710,1462290,1588740,1724610,1870520,2027090,2194980,2374910,2567610,2773860,2994460,3230290,3482230,3751250,4038320,4344490,4670860,5018570,5388820,5782870,6202040,6647710,7121320,7624390,8158490,8725290,9326500,9963940,10639490,11355120,12112890,12914940,13763530,14660980,15609730,16612320,17671400,18789740,19970210,21215790,22529620,23914930,25375110,26913660,28534250,30240670,32036870,33926960,35915220,38006070,40204130,42514170,44941160,47490260,50166820,52976390,55924730,59017810,62261820,65663190,69228580,72964870,76879220,80979030,85271970,89765970,94469270,99390360,104538060,109921470,115550030,121433500,127581950,134005820,140715890,147723310,155039600,162676670,170646810,178962740,187637570,196684870,206118620,215953280,226203750,236885430,248014190,259606440,271679070,284249510,297335750,310956340,325130380,339877590,355218280,371173380,387764460,405013760,422944160,441579250,460943310,481061370,501959160,523663200,546200790,569600000,593889740,619099770,645260680,672403940,700561950,729768010,760056370,791462240,824021840,857772380,892752120,929000400,966557610,1005465290,1045766100,1087503870,1130723620,1175471590,1221795290,1269743470,1319366210,1370714920,1423842390,1478802780,1535651690,1594446200,1655244850,1718107720,1783096460,1850274290,1919706090,1991458380,2065599380,2142199070,2221329180,2303063260,2387476730,2474646880,2564652940,2657576110,2753499610,2852508720,2954690810,3060135390,3168934190,3281181130,3396972450,3516406700,3639584790,3766610090,3897588410,4032628110,4171840110,4315337950,4463237880,4615658840,4772722600,4934553740,5101279770,5273031130,5449941300,5632146820,5819787370,6013005820,6211948300,6416764280,6627606600,6844631550,7067998930,7297872150,7534418250,7777808010,8028215980,8285820600,8550804230,8823353250,9103658130,9391913480,9688318180,9993075410,10306392760,10628482280,10959560600,11299848990,11649573440,12008964770,12378258700,12757695940,13147522270,13547988650,13959351320,14381871870,14815817320,15261460280,15719079000,16188957450,16671385490,17166658910,17675079560,18196955460,18732600890,19282336530,19846489510,20425393600,21019389260,21628823780,22254051410,22895433450,23553338380,24228142000,24920227530,25629985740,26357815090,27104121840,27869320190,28653832410,29458088980,30282528720,31127598920,31993755500,32881463140,33791195400,34723434920,35678673510,36657412330,37660162050,38687442970,39739785200,40817728830,41921824030,43052631280,44210721520,45396676280,46611087860,47854559540,49127705700,50431152030,51765535690,53131505490,54529722090,55960858150,57425598550,58924640550,60458694020,62028481590,63634738860,65278214630,66959671040,68679883850,70439642560,72239750700,74081025990,75964300570,77890421220,79860249550,81874662300,83934551450,86040824570,88194404930,90396231850,92647260840,94948463900,97300829740,99705364000,102163089570,104675046740,107242293570,109865906020,112546978340,115286623210,118085972110,120946175530,123868403250,126853844630,129903708890,133019225370,136201643840,139452234780,142772289690,146163121340,149626064120,153162474310,156773730420,160461233440,164226407240,168070698810,171995578620,176002540930,180093104140,184268811090,188531229410,192881951890,197322596770,201854808130,206480256200,211200637770,216017676520,220933123360,225948756830,231066383480,236287838220,241614984700,247049715710,252593953570,258249650510,264018789060,269903382480,275905475150,282027142980,288270493800,294637667840,301130838110,307752210810,314504025840,321388557140,328408113200,335565037510,342861708960,350300542340,357883988790,365614536280,373494710050,381527073100,389714226720,398058810880,406563504830,415231027500,424064138070,433065636460,442238363840,451585203130,461109079550,470812961150,480699859330,490772829380,501034971060,511489429080,522139393750,532988101460,544038835300,555294925630,566759750630,578436736920,590329360130,602441145530,614775668570,627336555590,640127484340,653152184650,666414439070,679918083480,693667007730,707665156320,721916529020,736425181560,751195226270,766230832780,781536228690,797115700260,812973593090,829114312860,845542325990,862262160400,879278406200,896595716450,914218807840,932152461530,950401523790,968970906840,987865589590,1007090618410,1026651107900,1046552241690,1066799273260,1087397526690,1108352397520,1129669353540,1151353935620,1173411758550,1195848511900,1218669960830,1241881946970,1265490389300,1289501285000,1313920710340,1338754821590,1364009855890,1389692132170,1415808052060,1442364100840,1469366848340,1496822949910,1524739147330,1553122269830,1581979235000,1611317049790,1641142811510,1671463708820,1702287022700,1733620127500,1765470491970,1797845680240,1830753352930,1864201268150,1898197282570,1932749352500,1967865534970,2003553988810,2039822975750,2076680861550,2114136117080,2152197319460,2190873153250,2230172411510,2270103997020,2310676923460,2351900316530,2393783415190,2436335572850,2479566258570,2523485058280,2568101676030,2613425935230,2659467779890,2706237275890,2753744612270,2802000102500,2851014185770,2900797428360,2951360524860,3002714299600,3054869707930,3107837837610,3161629910160,3216257282230,3271731447040,3328064035710,3385266818730,3443351707360,3502330755090,3562216159060,3623020261560,3684755551480,3747434665780,3811070391060,3875675664990,3941263577900,4007847374270,4075440454340,4144056375590,4213708854420,4284411767640,4356179154170,4429025216560,4502964322710,4578011007460,4654179974260,4731486096840,4809944420920,4889570165870,4970378726440,5052385674510,5135606760780,5220057916590,5305755255620,5392715075750,5480953860780,5570488282320,5661335201540,5753511671090,5847034936890,5941922440070,6038191818790,6135860910190,6234947752280,6335470585900,6437447856650,6540898216870,6645840527600,6752293860580,6860277500280,6969810945920,7080913913500,7193606337880,7307908374850,7423840403190,7541423026850,7660677077020,7781623614270,7904283930750,8028679552340,8154832240830,8282763996160,8412497058640,8544053911170,8677457281540,8812730144680,8949895724980,9088977498560,9229999195690,9372984803050,9517958566130,9664944991670,9813968849960,9965055177360,10118229278710,10273516729770,10430943379720,10590535353660,10752319055120,10916321168600,11082568662140,11251088789860,11421909094590,11595057410460,11770561865560,11948450884580,12128753191460,12311497812120,12496714077170,12684431624620,12874680402660,13067490672400,13262893010730,13460918313060,13661597796220,13864963001280,14071045796430,14279878379920,14491493282940,14705923372570,14923201854770,15143362277340,15366438532950,15592464862150,15821475856450,16053506461360,16288591979520,16526768073800,16768070770460,17012536462300,17260201911860,17511104254620,17765281002250,18022770045850,18283609659250,18547838502320,18815495624250,19086620466990,19361252868520,19639433066360,19921201700910,20206599818940,20495668877070,20788450745230,21084987710250,21385322479320,21689498183660,21997558382050,22309547064460,22625508655750,22945488019290,23269530460710,23597681731570,23929988033160,24266496020280,24607252805010,24952305960580,25301703525220,25655494006030,26013726382910,26376450112500,26743715132140,27115571863870,27492071218470,27873264599470,28259203907260,28649941543210,29045530413760,29446023934620,29851476034950,30261941161590,30677474283290,31098130895010,31523967022200,31955039225170,32391404603450,32833120800160,33280246006450,33732838965990,34190958979390,34654665908770,35124020182300,35599082798750,36079915332110,36566579936250,37059139349560,37557656899690,38062196508230,38572822695520,39089600585430,39612595910180,40141875015210,40677504864090,41219553043390,41768087767720,42323177884640,42884892879730,43453302881640,44028478667180,44610491666430,45199413967900,45795318323750,46398278154980,47008367556690,47625661303420,48250234854420,48882164359040,49521526662140,50168399309480,50822860553260,51484989357540,52154865403850,52832569096720,53518181569320,54211784689090,54913461063430,55623294045420,56341367739590,57067767007680,57802577474510,58545885533830,59297778354230,60058343885090,60827670862530,61605848815500,62392968071750,63189119764000,63994395836040,64808889048910,65632692987120,66465902064890,67308611532470,68160917482440,69022916856090,69894707449850,70776387921730,71668057797810,72569817478770,73481768246480,74404012270620,75336652615300,76279793245800,77233539035280,78197995771590,79173270164070,80159469850430,81156703403640,82165080338930,83184711120720,84215707169710,85258180869930,86312245575880,87378015619710,88455606318390,89545133981030,90646715916120,91760470438910,92886516878810,94024975586800,95175967942930,96339616363830,97516044310300,98705376294940,99907737889770,101123255733990,102352057541720,103594272109800,104850029325650,106119460175170,107402696750670,108699872258900,110011121029070,111336578520950,112676381333000,114030667210550,115399575054100,116783244927510,118181818066410,119595436886580,121024244992350,122468387185110,123928009471850,125403259073740,126894284434760,128401235230420,129924262376460,131463518037670,133019155636750,134591329863140,136180196682060,137785913343420,139408638390960,141048531671270,142705754343050,144380468886230,146072839111280,147783030168560,149511208557640,151257542136770,153022200132340,154805353148470,156607173176520,158427833604840,160267509228400,162126376258600,164004612333070,165902396525550,167819909355840,169757332799740,171714850299180,173692646772250,175690908623410,177709823753690,179749581570970,181810373000350,183892390494500,185995828044160,188120881188640,190267747026390,192436624225640,194627713035110,196841215294770,199077334446640,201336275545670,203618245270710,205923451935480,208252105499660,210604417580010,212980601461550,215380872108840,217805446177250,220254542024400,222728379721550,225227181065140,227751169588360,230300570572760,232875611059970,235476519863500,238103527580490,240756866603680,243436771133370,246143477189380,248877222623250,251638247130300,254426792261960,257243101437970,260087419958820,262959995018170,265861075715310,268790913067780,271749760024000,274737871475960,277755504272010,280802917229720,283880371148770,286988128823970,290126455058310,293295616676100};
/* USER CODE END 0 */

/**
  * @brief  The application entry point.
  * @retval int
  */
int main(void)
{
  /* USER CODE BEGIN 1 */
  OWInit();
  HAL_ADCEx_Calibration_Start(&hadc);
  HAL_ADC_Start(&hadc);

  /* USER CODE END 1 */

  /* MCU Configuration--------------------------------------------------------*/

  /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  HAL_Init();

  /* USER CODE BEGIN Init */

  /* USER CODE END Init */

  /* Configure the system clock */
  SystemClock_Config();

  /* USER CODE BEGIN SysInit */

  /* USER CODE END SysInit */

  /* Initialize all configured peripherals */
  MX_GPIO_Init();
  MX_USART2_UART_Init();
  MX_ADC_Init();
  /* USER CODE BEGIN 2 */

  /* USER CODE END 2 */

  /* Infinite loop */
  /* USER CODE BEGIN WHILE */
  while (1)
  {
	  static uint32_t delay;

	  static enum { SHOW_DS18B20, SHOW_NTC} state = SHOW_DS18B20;

	  if (HAL_GPIO_ReadPin(S1_GPIO_Port, S1_Pin) == 0)
	  {
		  state = SHOW_DS18B20;
		  HAL_GPIO_WritePin(LED2_GPIO_Port, LED2_Pin, 1);
		  HAL_GPIO_WritePin(LED1_GPIO_Port, LED1_Pin, 0);
	  }
	  else if (HAL_GPIO_ReadPin(S2_GPIO_Port, S2_Pin) == 0)
	  {
		  state = SHOW_NTC;
		  HAL_GPIO_WritePin(LED1_GPIO_Port, LED1_Pin, 1);
		  HAL_GPIO_WritePin(LED2_GPIO_Port, LED2_Pin, 0);
	  }

	  if (state == SHOW_DS18B20)
	  {
		  static int16_t temp_DS18B20;

		  OWConvertAll();
		  temp_DS18B20 = OWReadTemperature(temp_18b20);
		  sct_value(temp_DS18B20, 1);
		  HAL_Delay(750);

	  }

	  if (state == SHOW_NTC)
	  {
		  static int16_t temp_NTC;

		  temp_NTC = adc_array[HAL_ADC_GetValue(&hadc)];
		  sct_value(temp_NTC, 0);
		  HAL_Delay(750);
	  }
  }
    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
  /* USER CODE END 3 */
}

/**
  * @brief System Clock Configuration
  * @retval None
  */
void SystemClock_Config(void)
{
  RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};

  /** Initializes the CPU, AHB and APB busses clocks 
  */
  RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI|RCC_OSCILLATORTYPE_HSI14;
  RCC_OscInitStruct.HSIState = RCC_HSI_ON;
  RCC_OscInitStruct.HSI14State = RCC_HSI14_ON;
  RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
  RCC_OscInitStruct.HSI14CalibrationValue = 16;
  RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
  RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
  RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL12;
  RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
  if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
  {
    Error_Handler();
  }
  /** Initializes the CPU, AHB and APB busses clocks 
  */
  RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
                              |RCC_CLOCKTYPE_PCLK1;
  RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
  RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
  RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;

  if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_1) != HAL_OK)
  {
    Error_Handler();
  }
}

/**
  * @brief ADC Initialization Function
  * @param None
  * @retval None
  */
static void MX_ADC_Init(void)
{

  /* USER CODE BEGIN ADC_Init 0 */

  /* USER CODE END ADC_Init 0 */

  ADC_ChannelConfTypeDef sConfig = {0};

  /* USER CODE BEGIN ADC_Init 1 */

  /* USER CODE END ADC_Init 1 */
  /** Configure the global features of the ADC (Clock, Resolution, Data Alignment and number of conversion) 
  */
  hadc.Instance = ADC1;
  hadc.Init.ClockPrescaler = ADC_CLOCK_ASYNC_DIV1;
  hadc.Init.Resolution = ADC_RESOLUTION_10B;
  hadc.Init.DataAlign = ADC_DATAALIGN_RIGHT;
  hadc.Init.ScanConvMode = ADC_SCAN_DIRECTION_FORWARD;
  hadc.Init.EOCSelection = ADC_EOC_SINGLE_CONV;
  hadc.Init.LowPowerAutoWait = DISABLE;
  hadc.Init.LowPowerAutoPowerOff = DISABLE;
  hadc.Init.ContinuousConvMode = DISABLE;
  hadc.Init.DiscontinuousConvMode = DISABLE;
  hadc.Init.ExternalTrigConv = ADC_SOFTWARE_START;
  hadc.Init.ExternalTrigConvEdge = ADC_EXTERNALTRIGCONVEDGE_NONE;
  hadc.Init.DMAContinuousRequests = DISABLE;
  hadc.Init.Overrun = ADC_OVR_DATA_PRESERVED;
  if (HAL_ADC_Init(&hadc) != HAL_OK)
  {
    Error_Handler();
  }
  /** Configure for the selected ADC regular channel to be converted. 
  */
  sConfig.Channel = ADC_CHANNEL_1;
  sConfig.Rank = ADC_RANK_CHANNEL_NUMBER;
  sConfig.SamplingTime = ADC_SAMPLETIME_1CYCLE_5;
  if (HAL_ADC_ConfigChannel(&hadc, &sConfig) != HAL_OK)
  {
    Error_Handler();
  }
  /* USER CODE BEGIN ADC_Init 2 */

  /* USER CODE END ADC_Init 2 */

}

/**
  * @brief USART2 Initialization Function
  * @param None
  * @retval None
  */
static void MX_USART2_UART_Init(void)
{

  /* USER CODE BEGIN USART2_Init 0 */

  /* USER CODE END USART2_Init 0 */

  /* USER CODE BEGIN USART2_Init 1 */

  /* USER CODE END USART2_Init 1 */
  huart2.Instance = USART2;
  huart2.Init.BaudRate = 38400;
  huart2.Init.WordLength = UART_WORDLENGTH_8B;
  huart2.Init.StopBits = UART_STOPBITS_1;
  huart2.Init.Parity = UART_PARITY_NONE;
  huart2.Init.Mode = UART_MODE_TX_RX;
  huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
  huart2.Init.OverSampling = UART_OVERSAMPLING_16;
  huart2.Init.OneBitSampling = UART_ONE_BIT_SAMPLE_DISABLE;
  huart2.AdvancedInit.AdvFeatureInit = UART_ADVFEATURE_NO_INIT;
  if (HAL_UART_Init(&huart2) != HAL_OK)
  {
    Error_Handler();
  }
  /* USER CODE BEGIN USART2_Init 2 */

  /* USER CODE END USART2_Init 2 */

}

/**
  * @brief GPIO Initialization Function
  * @param None
  * @retval None
  */
static void MX_GPIO_Init(void)
{
  GPIO_InitTypeDef GPIO_InitStruct = {0};

  /* GPIO Ports Clock Enable */
  __HAL_RCC_GPIOC_CLK_ENABLE();
  __HAL_RCC_GPIOF_CLK_ENABLE();
  __HAL_RCC_GPIOA_CLK_ENABLE();
  __HAL_RCC_GPIOB_CLK_ENABLE();

  /*Configure GPIO pin Output Level */
  HAL_GPIO_WritePin(GPIOA, LED1_Pin|LD2_Pin, GPIO_PIN_RESET);

  /*Configure GPIO pin Output Level */
  HAL_GPIO_WritePin(GPIOB, LED2_Pin|SCT_CLK_Pin|SCT_SDI_Pin|SCT_NLA_Pin, GPIO_PIN_RESET);

  /*Configure GPIO pin Output Level */
  HAL_GPIO_WritePin(DQ_GPIO_Port, DQ_Pin, GPIO_PIN_SET);

  /*Configure GPIO pin : B1_Pin */
  GPIO_InitStruct.Pin = B1_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_IT_FALLING;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(B1_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : S2_Pin S1_Pin */
  GPIO_InitStruct.Pin = S2_Pin|S1_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  GPIO_InitStruct.Pull = GPIO_PULLUP;
  HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);

  /*Configure GPIO pins : LED1_Pin LD2_Pin */
  GPIO_InitStruct.Pin = LED1_Pin|LD2_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);

  /*Configure GPIO pins : LED2_Pin SCT_CLK_Pin SCT_SDI_Pin SCT_NLA_Pin */
  GPIO_InitStruct.Pin = LED2_Pin|SCT_CLK_Pin|SCT_SDI_Pin|SCT_NLA_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);

  /*Configure GPIO pin : DQ_Pin */
  GPIO_InitStruct.Pin = DQ_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  HAL_GPIO_Init(DQ_GPIO_Port, &GPIO_InitStruct);

}

/* USER CODE BEGIN 4 */

/* USER CODE END 4 */

/**
  * @brief  This function is executed in case of error occurrence.
  * @retval None
  */
void Error_Handler(void)
{
  /* USER CODE BEGIN Error_Handler_Debug */
  /* User can add his own implementation to report the HAL error return state */

  /* USER CODE END Error_Handler_Debug */
}

#ifdef  USE_FULL_ASSERT
/**
  * @brief  Reports the name of the source file and the source line number
  *         where the assert_param error has occurred.
  * @param  file: pointer to the source file name
  * @param  line: assert_param error line source number
  * @retval None
  */
void assert_failed(uint8_t *file, uint32_t line)
{ 
  /* USER CODE BEGIN 6 */
  /* User can add his own implementation to report the file name and line number,
     tex: printf("Wrong parameters value: file %s on line %d\r\n", file, line) */
  /* USER CODE END 6 */
}
#endif /* USE_FULL_ASSERT */

/************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/
